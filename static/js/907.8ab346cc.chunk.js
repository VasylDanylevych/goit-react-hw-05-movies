"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[907],{293:function(n,e,t){t.d(e,{D:function(){return i},W:function(){return u}});var r,a,c=t(168),o=t(444),u=o.ZP.div(r||(r=(0,c.Z)(["\n  padding: 0 16px;\n  margin-top: 25px;\n"]))),i=o.ZP.h1(a||(a=(0,c.Z)(["\n  color: black;\n  font-weight: 500;\n  font-size: 30px;\n  margin: 0;\n"])))},829:function(n,e,t){t.r(e),t.d(e,{default:function(){return j}});var r,a,c,o,u,i=t(861),s=t(439),p=t(757),f=t.n(p),v=t(168),l=t(444),d=(l.ZP.div(r||(r=(0,v.Z)(["\n  padding: 0 16px;\n  margin-top: 25px;\n"]))),l.ZP.form(a||(a=(0,v.Z)(["\n  padding: 0 16px;\n  margin-top: 25px;\n  & button {\n    background-color: #dc143c;\n    color: white;\n    border-radius: 4px;\n    border: none;\n    cursor: pointer;\n    width: 120px;\n    height: 40px;\n    font-weight: 500;\n    font-size: 18px;\n    margin-left: 25px;\n  }\n  & button:active {\n    background-color: #c0c0c0;\n  }\n"])))),h=l.ZP.input(c||(c=(0,v.Z)(["\n  height: 35px;\n  padding-left: 20px;\n  border-radius: 4px;\n  font-size: 15px;\n  width: 300px;\n"]))),x=t(87),g=t(689),Z=l.ZP.ul(o||(o=(0,v.Z)(["\n  margin: 25px 0 0 0;\n  padding-left: 40px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),m=(0,l.ZP)(x.rU)(u||(u=(0,v.Z)(["\n  font-weight: 400;\n  font-size: 20px;\n\n  &.active {\n    color: #dc143c;\n  }\n"]))),k=t(184),y=function(n){var e=n.movies,t=(0,g.TH)();return(0,k.jsx)(Z,{children:e.map((function(n){return(0,k.jsx)("li",{children:(0,k.jsx)(m,{to:"".concat(n.id),state:{from:t},children:n.title})},n.id)}))})},w=t(293),b=t(791),_=new(t(933).Z);function j(){var n,e=(0,b.useState)([]),t=(0,s.Z)(e,2),r=t[0],a=t[1],c=(0,b.useState)(!1),o=(0,s.Z)(c,2),u=o[0],p=o[1],v=(0,x.lr)(),l=(0,s.Z)(v,2),g=l[0],Z=l[1],m=null!==(n=g.get("query"))&&void 0!==n?n:"",j=(0,b.useCallback)((function(n){n.preventDefault(),p(!0)}),[]);(0,b.useEffect)((function(){function n(){return(n=(0,i.Z)(f().mark((function n(){var e;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""===m){n.next=16;break}return n.prev=1,n.next=4,_.getMoviesOnQuery(m);case 4:e=n.sent,a(e.results),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log(n.t0);case 11:return n.prev=11,p(!1),n.finish(11);case 14:n.next=17;break;case 16:a([]);case 17:case"end":return n.stop()}}),n,null,[[1,8,11,14]])})))).apply(this,arguments)}u&&function(){n.apply(this,arguments)}()}),[m,u]);return(0,k.jsxs)(w.W,{children:[(0,k.jsxs)(d,{onSubmit:j,children:[(0,k.jsx)(h,{type:"text",name:"movie",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",required:!0,value:m,onChange:function(n){var e=n.target.value;if(""!==e)return Z({query:e});Z({})}}),(0,k.jsx)("button",{type:"submit",children:"Search"})]}),(0,k.jsx)(y,{movies:r})]})}},933:function(n,e,t){t.d(e,{Z:function(){return f}});var r=t(861),a=t(671),c=t(144),o=t(757),u=t.n(o),i=t(243),s="https://api.themoviedb.org/3/",p="51710d149e771e558fc72465c85784a4",f=function(){function n(){(0,a.Z)(this,n)}return(0,c.Z)(n,[{key:"getPopularMovies",value:function(){var n=(0,r.Z)(u().mark((function n(){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.Z.get("".concat(s,"trending/movie/day?api_key=").concat(p));case 3:return e=n.sent,n.abrupt("return",e.data);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}()},{key:"getMoviesOnQuery",value:function(){var n=(0,r.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.Z.get("".concat(s,"search/movie?api_key=").concat(p,"&query=").concat(e,"&page=1"));case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},{key:"getMovieDetails",value:function(){var n=(0,r.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.Z.get("".concat(s,"movie/").concat(e,"?api_key=").concat(p));case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},{key:"getMovieCast",value:function(){var n=(0,r.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.Z.get("".concat(s,"movie/").concat(e,"/credits?api_key=").concat(p));case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},{key:"getMovieReviews",value:function(){var n=(0,r.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.Z.get("".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(p));case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}]),n}()}}]);
//# sourceMappingURL=907.8ab346cc.chunk.js.map