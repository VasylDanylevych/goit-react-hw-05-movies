{"version":3,"file":"static/js/907.8ab346cc.chunk.js","mappings":"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","sources":["pages/Home.style.js","pages/Movies.style.js","components/MoviesList/MoviesList.style.js","components/MoviesList/MoviesList.jsx","pages/Movies.jsx","services/Api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Container = styled.div`\n  padding: 0 16px;\n  margin-top: 25px;\n`;\n\nexport const Title = styled.h1`\n  color: black;\n  font-weight: 500;\n  font-size: 30px;\n  margin: 0;\n`;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  padding: 0 16px;\n  margin-top: 25px;\n`;\n\nexport const FormEl = styled.form`\n  padding: 0 16px;\n  margin-top: 25px;\n  & button {\n    background-color: #dc143c;\n    color: white;\n    border-radius: 4px;\n    border: none;\n    cursor: pointer;\n    width: 120px;\n    height: 40px;\n    font-weight: 500;\n    font-size: 18px;\n    margin-left: 25px;\n  }\n  & button:active {\n    background-color: #c0c0c0;\n  }\n`;\n\nexport const Input = styled.input`\n  height: 35px;\n  padding-left: 20px;\n  border-radius: 4px;\n  font-size: 15px;\n  width: 300px;\n`;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const List = styled.ul`\n  margin: 25px 0 0 0;\n  padding-left: 40px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n`;\n\nexport const Item = styled(Link)`\n  font-weight: 400;\n  font-size: 20px;\n\n  &.active {\n    color: #dc143c;\n  }\n`;\n","import { useLocation } from 'react-router-dom';\nimport { Item, List } from './MoviesList.style';\n\nexport const MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <List>\n      {movies.map(movie => (\n        <li key={movie.id}>\n          <Item to={`${movie.id}`} state={{ from: location }}>\n            {movie.title}\n          </Item>\n        </li>\n      ))}\n    </List>\n  );\n};\n","import { FormEl, Input } from './Movies.style';\nimport { useSearchParams } from 'react-router-dom';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { Container } from './Home.style';\nimport { useCallback, useEffect, useState } from 'react';\nimport MoviesApi from 'services/Api';\n\nconst moviesApi = new MoviesApi();\n\nexport default function Movies() {\n  const [movies, setMovie] = useState([]);\n  const [shouldFetchData, setShouldFetchData] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const handleSubmit = useCallback(evt => {\n    evt.preventDefault();\n    setShouldFetchData(true);\n  }, []);\n\n  useEffect(() => {\n    async function fetchMovies() {\n      if (query !== '') {\n        try {\n          const data = await moviesApi.getMoviesOnQuery(query);\n          setMovie(data.results);\n        } catch (error) {\n          console.log(error);\n        } finally {\n          setShouldFetchData(false);\n        }\n      } else {\n        setMovie([]);\n      }\n    }\n    if (shouldFetchData) {\n      fetchMovies();\n    }\n  }, [query, shouldFetchData]);\n\n  const updateQuery = e => {\n    const queryValue = e.target.value;\n    if (queryValue !== '') {\n      return setSearchParams({ query: queryValue });\n    }\n    setSearchParams({});\n  };\n\n  return (\n    <Container>\n      <FormEl onSubmit={handleSubmit}>\n        <Input\n          type=\"text\"\n          name=\"movie\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          required\n          value={query}\n          onChange={updateQuery}\n        />\n        <button type=\"submit\">Search</button>\n      </FormEl>\n      <MoviesList movies={movies} />\n    </Container>\n  );\n}\n","import axios from 'axios';\nconst URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '51710d149e771e558fc72465c85784a4';\n\nexport default class MoviesApi {\n  async getPopularMovies() {\n    try {\n      const response = await axios.get(\n        `${URL}trending/movie/day?api_key=${API_KEY}`\n      );\n      return response.data;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async getMoviesOnQuery(query) {\n    try {\n      const response = await axios.get(\n        `${URL}search/movie?api_key=${API_KEY}&query=${query}&page=1`\n      );\n      return response.data;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async getMovieDetails(id) {\n    try {\n      const response = await axios.get(`${URL}movie/${id}?api_key=${API_KEY}`);\n      return response.data;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async getMovieCast(id) {\n    try {\n      const response = await axios.get(\n        `${URL}movie/${id}/credits?api_key=${API_KEY}`\n      );\n      return response.data;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async getMovieReviews(id) {\n    try {\n      const response = await axios.get(\n        `${URL}movie/${id}/reviews?api_key=${API_KEY}`\n      );\n      return response.data;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n}\n"],"names":["Container","styled","Title","FormEl","Input","List","Item","Link","MoviesList","movies","location","useLocation","map","movie","to","id","state","from","title","moviesApi","MoviesApi","Movies","useState","setMovie","shouldFetchData","setShouldFetchData","useSearchParams","searchParams","setSearchParams","query","get","handleSubmit","useCallback","evt","preventDefault","useEffect","getMoviesOnQuery","data","results","console","log","fetchMovies","onSubmit","type","name","pattern","required","value","onChange","e","queryValue","target","URL","API_KEY","axios","response","error"],"sourceRoot":""}